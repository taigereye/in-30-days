<!DOCTYPE html>

<html ng-app="In30Days">
	<head>
		<title>In 30 Days</title>

		<!-- AngularJS. -->
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>

		<!-- UI Router. -->
		<script src="https://ajax.googleapis.com/ajax/libs/angular-ui-router/0.4.2/angular-ui-router.min.js"></script>

		<!-- Bootstrap. -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

		<!-- LoDash. -->
		<script src="https://cdn.jsdelivr.net/lodash/4.17.4/lodash.min.js"></script>

		<!-- Font Awesome. -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

		<!-- Stylesheet. -->
		<link rel="stylesheet" href="styles.css">

		<!-- Modules. -->
		<script src="app.js"></script>
		
	</head>

	<body ng-controller="MainCtrl">
		
		<h1>In 30 Days</h1>


		<h3>Try a challenge for 30 days... and watch it grow into a habit!</h3>

		<br></br>

		<div class="container-fluid">
			<div class="row-fluid">
				<div class="wrapper">

					<div class="col-sm-3 col-md-2">
						<!-- Sidebar. -->
						<nav id="sidebar">
							<div class="sidebar-header">
								<a href="#" ng-click="setCurrentCategory(null)">Menu</a>
							</div>
							<ul class="list-unstyled components">
								<li ng-repeat="category in categories" ng-class="{'active': isCurrentCategory(category)}">
									<a class="menu-item" href="#" ng-click="setCurrentCategory(category)">{{ category.title }}</a>
								</li>	
							</ul>
						</nav>
					</div>
					
					<div class="col-sm-9 col-sm-offset-1 col-md-10 col-md-offset-2 main">
						<div id="content">
							<div ng-class="{'active': isSelectedHabit(habit.id)}" ng-repeat="habit in habits | filter: {category: currentCategory.title}">
								<button type="button" ng-click="deleteHabit(habit)" class="close">&times;</button>
								<button type="button" ng-click="setEditedHabit(habit);startEditing();" class="btn btn-link">Edit</button>
								<a class="main-item" href="#">{{ habit.name }}</a>
								<div class="col-sm-offset-2 main">
									<p>Day {{ habit.current_day }} / 30</p>
								</div>
							</div>
						</div>
					</div>

				</div>
			</div>

			<div class="row-fluid" ng-if="shouldShowCreating()">
				<br></br>
				<div class="col-sm-3 col-sm-offset-3 main">
					<button type="button" ng-click="startCreating();" class="btn btn-link">Create</button>
					<form class="create-form" ng-show="isCreating" role="form" ng-submit="createHabit(newHabit)" novalidate>
						<div class="form-group">
							<label for="newHabitName">Habit Name</label>
							<input type="text" class="form-control" id="newHabitName" ng-model="newHabit.name" placeholder="Enter name">
						</div>
						<button type="submit" class="btn btn-info btn-log">Create</button>
					</form>
				</div>

				<div class="col-sm-1 col-sm-offset-3 main">
					<button type="button" class="btn btn-default btn-lg pull-right" ng-click="cancelCreating()">Cancel</button>
				</div>
			</div>

			<div class="row-fluid" ng-if="shouldShowEditing()">
				<h4 class="col-sm-3 col-sm-offset-3 main">Editing {{ editedHabit.name }}</h4>

				<br></br>
				<div class="col-sm-3 col-sm-offset-3 main">
					<form class="edit-form" role="form" ng-submit="updateHabit(editedHabit)" novalidate>
						<div class="form-group">
							<label>Habit Name</label>
							<input type="text" class="form-control" ng-model="editedHabit.name" placeholder="Enter name">
						</div>
						<button type="submit" class="btn btn-info btn-log">Save</button>
					</form>
				</div>

				<div class="col-sm-1 col-sm-offset-3 main">
					<button type="button" class="btn btn-default btn-lg pull-right" ng-click="cancelEditing()">Cancel</button>
				</div>
			</div>
		</div>

	</body>
</html>